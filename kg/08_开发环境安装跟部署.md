### 开发环境安装跟部署
   汽车知识内容的获取，我们从下面4个方面进行讲解。
   01-开发环境安装部署
   02-汽车品牌数据获取
   03-汽车车系数据获取
   04-汽车数据批量导入
   
   首先,我们需要把汽车270个汽车品牌的数据爬取下来并且把汽车车系的数据也获取下来：品牌、系列等。然后我们将我们爬取的汽车品牌数据跟汽车车系数据，我们需要将在和谐数据导入到我们的
图数据库里面来。 这个时候涉及到节点创建跟关系创建。通过这一讲解我们可以学习到如下知识：
  ![](./images/29.png)  
  
   
#### 01-开发环境安装部署
  网络数据爬取我们使用的是request-html，所以我们首先需要安装这个包:
  方式一:如下
  ![](./images/30.png)  
  
  方式二:
  ```renderscript
   pip install requests-html
  ```

   其中requests-html如下:
   
```renderscript
https://github.com/psf/requests-html
```
  

#### 02-汽车品牌数据获取
  我们需要获取汽车品牌数据，主要包括3快：1）:页面元素分析 2）品牌数据爬取(指代汽车品牌)  3）数据结构处理(数据本地化存储导入到数据库)

##### 1）:页面元素分析
  页面元素分析我们可以从汽车之家中获取到数据。  
https://www.autohome.com.cn/beijing/
  我们可以看到汽车之家中的数据目录里面的：报价-https://car.autohome.com.cn/price/series-3554.html#pvareaid=3311277
   ![](./images/31.png)
   我们可以看到浏览器开发者工具，我们可以知道：其菜单的结构
      ![](./images/32.png)
   
##### 2）品牌数据获取

品牌信息获取代码如下:

```renderscript
# 汽车品牌
def get_url():
    current_dir = os.path.abspath('.')
    print(current_dir)
    file_name = os.path.join(current_dir, "data\\bank.csv")
    print(file_name)
    with open(file_name, 'wt', newline='') as csvfile1:
        header = ['bank', 'count', 'url']
        writer = csv.writer(csvfile1)
        writer.writerow(header)
        # 访问页面
        response = session.get(url)
        response.html.render()
        # 查找元素
        banks = response.html.find('.cartree ul li h3 a')
        # 
        for bank in banks:
            # print(bank.text)
            # 格式化
            bk = bank.text
            start = bk.find("(")
            end = bk.find(")")
            bank1 = bk[0:start]
            Num = bk[(start + 1):end]
            url2 = url + bank.attrs.get("href", None)
            print(url2)
            save2csc(writer, bank1, Num, url2)
        # print(banks)
    csvfile1.close()
```

上面代码我们是根据以下关系页面进行数据获取：
![](./images/33.png)  



  
#### 03-汽车车系数据获取

#### 04-汽车数据批量导入
