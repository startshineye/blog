## 数据提取jsonpath模块
知识点
了解jsonpath模块的使用场景
掌握jsonpath模块的使用

### 1. jsonpath模块的使用场景
```renderscript
如果有一个多层嵌套的复杂字典，想要根据key和下标来批量提取value，这是比较困难的。jsonpath模块就能解决这个痛点，接下来我们就来学习jsonpath模块
```



### 2. 掌握jsonpath模块的使用
#### 2.1 jsonpath模块的安装
```renderscript
jsonpath是第三方模块，需要额外安装
```  

安装指令

```renderscript
pip install jsonpath
```

#### 2.2 jsonpath模块提取数据的方法

```renderscript
from jsonpath import jsonpath
ret = jsonpath('需要解析的字典', 'jsonpath语法规则字符串')
```

#### 2.3 jsonpath的语法  
 jsonpath的语法规则如下：
![image](../images/38.png)    
 但是我们在实际工作中主要是运用到3个语法：
 ```renderscript
 $  根节点(最外层的大括号)
 .  子节点
 .. 内部任意位置（子孙节点）
```

简单举例:

```renderscript
'''
多层嵌套的字典，我们如何获取最里面的值
'''

from jsonpath import jsonpath

data = {'key1': {'key2': {'key3': {'key4': {'key5': {'key6': 'python'}}}}}}

# 一: 使用最原始的字典获取方案
print(f'使用最原始的字典获取方案: {data["key1"]["key2"]["key3"]["key4"]["key5"]["key6"]}')

# 二: 使用jsonpath的子节点获取
print(f'使用jsonpath的子节点获取:{jsonpath(data,("$.key1.key2.key3.key4.key5.key6"))[0]}')

# 三：使用jsonpath的任意节点获取
print(f'使用jsonpath的任意节点获取:{jsonpath(data,("$..key6"))[0]}')
```



 
